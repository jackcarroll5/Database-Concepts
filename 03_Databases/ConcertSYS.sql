-- ConcertSYS.sql
-- Date: October 2016
-- C Woods

PROMPT DROPPING ALL TABLES
PROMPT

-- DROP ALL TABLES
DROP TABLE Sales;
DROP TABLE Concerts;
DROP TABLE Venues;
DROP TABLE Artists;

PROMPT
PROMPT BUILDING TABLES
PROMPT

-- Build Tables
CREATE TABLE Venues
(VenueID numeric(3),
 Title char(25) NOT NULL,
 Contact char(30) NOT NULL,
 Capacity_Seats numeric(5) NOT NULL,
 Capacity_Standing numeric(5) NOT NULL,
 Cost numeric(8,2),
 CONSTRAINT pk_Venues PRIMARY KEY (VenueID));


CREATE TABLE Artists
(ArtistID numeric(3),
 Name Char(25) NOT NULL,
 Fee numeric(8,2) NOT NULL,
 CONSTRAINT pk_Artists PRIMARY KEY (ArtistID));

CREATE TABLE Concerts
(ConcertID numeric(4),
 ConcertDate Date,
 ArtistID numeric(3) NOT NULL,
 VenueID numeric(3) NOT NULL,
 SeatPrice numeric(5,2) NOT NULL,
 StandingPrice numeric(5,2) NOT NULL,
 SeatSold numeric(5) DEFAULT 0,
 StandingSold numeric(5) DEFAULT 0,
 CONSTRAINT pk_Concerts PRIMARY KEY (ConcertID),
 CONSTRAINT fk_Conc_Artists FOREIGN KEY (ArtistID)REFERENCES Artists,
 CONSTRAINT fk_Conc_Venues FOREIGN KEY (VenueID)REFERENCES Venues);
 
 CREATE TABLE Sales
 (SaleID numeric(5),
  SaleDate Date NOT NULL,
  ConcertID numeric(4) NOT NULL,
  Name char(30) NOT NULL,
  email char (30)NOT NULL,
  NoSeats numeric(2) DEFAULT 0,
  NoStanding numeric(2) DEFAULT 0,
  SaleValue numeric(6,2) NOT NULL,
  CONSTRAINT pk_Sales PRIMARY KEY (SaleID),
  CONSTRAINT fk_Sales_Conc_ FOREIGN KEY (ConcertID)REFERENCES Concerts);
  
PROMPT
PROMPT POPULATING VENUES
PROMPT

INSERT INTO Venues
VALUES(101,'RDS ARENA','Sean Flynn',55000,3000,45000);
INSERT INTO Venues
VALUES(102,'SLANE CASTLE','Michael Foley',0,85000,95000);

INSERT INTO Venues
VALUES(103,'AVIVA STADIUM','Anne Jones',20000,2000,45000);

INSERT INTO Venues
VALUES(104,'CROKE PARK','Sean Kelly',82000,5000,105000);

INSERT INTO Venues
VALUES(105,'THOMAND PARK','Jim Foley',25000,2000,63000);

PROMPT
PROMPT POPULATING ARTISTS
PROMPT

INSERT INTO Artists
VALUES(1,'One Direction',190000.00);

INSERT INTO Artists
VALUES(2,'Take That',220000.00);

INSERT INTO Artists
VALUES(3,'JLS',200000.00);

INSERT INTO Artists
VALUES(4,'Westlife',200000.00);

INSERT INTO Artists
VALUES(5,'U2',250000.00);

INSERT INTO Artists
VALUES(6,'Red Hot Chillie Peppers',195000.00);

PROMPT
PROMPT POPULATING CONCERTS
PROMPT

INSERT INTO Concerts
VALUES(2000,'22-MAY-2016',1,102,75.00,65.00,0,1500);

INSERT INTO Concerts
VALUES(2001,'26-JUN-2016',2,104,85.00,75.00,1200,500);

INSERT INTO Concerts
VALUES(2002,'17-JUL-2016',1,105,55.00,45.00,0,1508);

INSERT INTO Concerts
VALUES(2003,'26-JUN-2016',2,102,75.00,70.00,7804,1101);

INSERT INTO Concerts
VALUES(2004,'23-MAY-2017',4,104,95.00,90.00,45987,2985);

INSERT INTO Concerts
VALUES(2005,'09-OCT-2017',2,103,75.00,70.00,12000,1500);

INSERT INTO Concerts
VALUES(2006,'27-JUL-2017',6,104,85.00,75.00,16070,2769);

INSERT INTO Concerts
VALUES(2007,'15-NOV-2017',5,101,105.00,100.00,8000,1125);

INSERT INTO Concerts
VALUES(2008,'18-OCT-2017',2,105,55.00,45.00,24568,2000);

INSERT INTO Concerts
VALUES(2009,'19-DEC-2017',4,104,85.00,75.00,81000,3000);

PROMPT
PROMPT POPULATING SALES
PROMPT
INSERT INTO SALES
VALUES(1,'01-MAR-2015',2000,'CHRIS SMITH','csmith@gmail.com',0,4,260);
INSERT INTO SALES
VALUES(2,'01-MAR-2016',2004,'KATE FLYNN','kflynn1@gmail.com',10,0,950);
INSERT INTO SALES
VALUES(3,'03-MAR-2015',2000,'KEN KELLY','KK@gmail.com',0,40,2600);
INSERT INTO SALES
VALUES(4,'04-MAR-2015',2000,'ANNE DALY','adaly@eircom.net',0,2,130);
INSERT INTO SALES
VALUES(5,'14-MAR-2016',2000,'JAMES SMYTH','jamess@eircom.net',0,2,130);
INSERT INTO SALES
VALUES(6,'14-MAR-2016',2005,'ANNE DALY','adaly@eircom.net',10,2,890);
INSERT INTO SALES
VALUES(7,'23-APR-2015',2004,'KEN KELLY','KK@gmail.com',0,10,800);
INSERT INTO SALES
VALUES(8,'19-MAY-2016',2004,'KATE FLYNN','kflynn1@gmail.com',10,5,1200);

INSERT INTO SALES
VALUES(19,'18-SEP-2016',2006,'JAMES SMYTH','jamess@eircom.net',10,5,1225);
INSERT INTO SALES
VALUES(20,'19-SEP-2016',2006,'KATE FLYNN','kflynn1@gmail.com',20,10,2450);

COMMIT;
  
  
  
  
  
